<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> PG Official</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>
    <! icon Reference>
</head>
<body>
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>
    
    <aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
        <! This section creates the left sidebar with navigation links.>
        <header class="profile-wrapper">
        <a href="#" id="avatar" class="rounded-circle">
            <img src="images/my my.jpg" width="120" height="150" alt="avatar" onerror="this.style.display='none'">
        </a>
            <h1 class="site-title"> Pratik Giri </h1>
            <p class="site-subtitle fst-italic mb-0">I may not belive in myself, but I belive in what I'm doing</p>
        </header>
        <nav class = "flex-column flex-grow-1 w-100 ps-0">
            <ul class = "nav">
                <li class="nav-item">
                    <a href="profolio.html" class="nav-link">
                        <i class="fa-fw fas fa-home"></i>
                         <span>Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href = "categories.html" class="nav-link">
                        <i class="fa-fw fas fa-th-large"></i>
                        <span>Categories</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href = "archives.html" class="nav-link">
                        <i class="fa-fw fas fa-archive"></i>
                        <span>Archives</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="friends.html" class="nav-link active">
                        <i class="fa-fw fas fa-users"></i>
                        <span>Friends</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href = "about.html" class="nav-link">
                        <i class="fa-fw fas fa-user"></i>
                        <span>About</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sidebar-bottom d-flex flex-wrap align-items-center w-100">
            <a href="https://www.instagram.com/pratik.girii?igsh=YmQ5ODk3c2Z6aTFt" aria-label="instgram" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://github.com/the-ripper77" aria-label="github" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-github"></i>
            </a>
            <a href="mailto:prateek.giirii@gmail.com" aria-label="email" target="_blank" rel="noopener noreferrer">
                <i class="fas fa-envelope"></i>
            </a>
            <a href="https://www.facebook.com/share/15Ctwfs3bq/" aria-label="facebook" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-facebook"></i>
            </a>
        </div>
    </aside>

    
   
    <main aria-label="Main Content">
        <div id="main-wrapper" class="d-flex justify-content-center">
            <div class="container d-flex flex-column px-xxl-5">
                <header id="topbar-wrapper" aria-label="Top Bar">
                    <div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100">
                        <div class="header-left">
                            <button type="button" id="sidebar-trigger" class="btn btn-link">
                                <i class="fas fa-bars fa-fw"></i>
                            </button>
                            <div id="topbar-title">The Ripper</div>
                        </div>
                        <div class="header-center">
                            <!-- Search engine and dark mode toggle removed as requested -->
                        </div>
                    </div>
                </header>
                
                <!-- People You May Know Section -->
                <section class="people-section">
                    <div class="section-header">
                        <h2>People You May Know</h2>
                        <p class="section-description">Connect with people in my network</p>
                    </div>
                    <div class="people-grid" id="people-grid">
                        <!-- Cards will be generated dynamically -->
                    </div>
                </section>
                <!-- Add Person Modal -->
                <div id="add-person-modal" class="modal-overlay" style="display:none;">
                  <div class="modal-content">
                    <h3>Add New Person</h3>
                    <form id="add-person-form">
                      <label for="person-image">Picture</label>
                      <div class="file-input-wrapper">
                        <input type="file" id="person-image" accept="image/*" style="display: none;">
                        <button type="button" class="file-input-btn" onclick="document.getElementById('person-image').click()">
                          <i class="fas fa-image"></i>
                          <span>Choose Image</span>
                        </button>
                      </div>
                      <div id="image-preview" class="image-preview"></div>
                      <label for="person-name">Name</label>
                      <input type="text" id="person-name" maxlength="32" required>
                      <label for="person-relationship">Relationship</label>
                      <select id="person-relationship" required>
                        <option value="">Select relationship...</option>
                        <option value="Close Friend">Close Friend</option>
                        <option value="Friend">Friend</option>
                        <option value="Family">Family</option>
                        <option value="Colleague">Colleague</option>
                        <option value="Classmate">Classmate</option>
                        <option value="Neighbor">Neighbor</option>
                        <option value="Acquaintance">Acquaintance</option>
                        <option value="Other">Other</option>
                      </select>
                      <div class="modal-actions">
                        <button type="submit">Add</button>
                        <button type="button" id="cancel-add-person">Cancel</button>
                      </div>
                    </form>
                  </div>
                </div>
            </div>
        </div>
        <aside aria-label="Scroll to Top">
            <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
                <i class="fas fa-angle-up"></i>
            </button>
        </aside>    
    </main>
    
   
    <footer aria-label="Site Info">
        <p>
            Â© <time>2025</time>
            <a href="https://www.instagram.com/pratik.girii?igsh=YmQ5ODk3c2Z6aTFt">Pratik Giri</a>
        </p>
    </footer>
</div>

<script>
// Sidebar toggle functionality
document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const sidebarTrigger = document.getElementById('sidebar-trigger');
    const sidebarOverlay = document.getElementById('sidebar-overlay');
    const main = document.querySelector('main');
    
    // Check if we're on mobile
    function isMobile() {
        return window.innerWidth <= 768;
    }
    
    // Initialize sidebar state
    function initSidebar() {
        if (isMobile()) {
            sidebar.classList.add('sidebar-hidden');
            main.classList.add('sidebar-hidden');
        } else {
            sidebar.classList.remove('sidebar-hidden');
            main.classList.remove('sidebar-hidden');
        }
    }
    
    // Toggle sidebar
    function toggleSidebar() {
        if (isMobile()) {
            sidebar.classList.toggle('sidebar-visible');
            sidebarOverlay.classList.toggle('active');
        }
    }
    
    // Close sidebar when clicking overlay
    function closeSidebar() {
        if (isMobile()) {
            sidebar.classList.remove('sidebar-visible');
            sidebarOverlay.classList.remove('active');
        }
    }
    
    // Event listeners
    sidebarTrigger.addEventListener('click', toggleSidebar);
    sidebarOverlay.addEventListener('click', closeSidebar);
    
    // Handle window resize
    window.addEventListener('resize', function() {
        if (!isMobile()) {
            sidebar.classList.remove('sidebar-visible');
            sidebarOverlay.classList.remove('active');
        }
        initSidebar();
    });
    
    // Initialize on page load
    initSidebar();
});

// --- People You May Know Section ---
let peopleData = [];

// Load saved people data from localStorage
function loadPeopleData() {
    // Clear all existing data and start fresh
    localStorage.removeItem('peopleData');
    peopleData = [];
}

// Save people data to localStorage
function savePeopleData() {
    localStorage.setItem('peopleData', JSON.stringify(peopleData));
}

function renderPeopleCards() {
    const peopleGrid = document.getElementById('people-grid');
    if (peopleGrid) {
        peopleGrid.innerHTML = peopleData.map(person => `
            <div class="person-card card-effect">
                <div class="person-avatar">
                    <img src="${person.profilePicUrl}" alt="${person.name}" onerror="this.src='images/my my.jpg'">
                </div>
                <div class="person-name">${person.name}</div>
                <div class="person-relationship">${person.relationship}</div>
            </div>
        `).join('') + `
            <div class="person-card add-new-card card-effect" id="add-new-card" tabindex="0" title="Add new person">
                <div class="add-new-box">
                    <i class="fas fa-plus"></i>
                </div>
            </div>
        `;
        attachAddNewCardListener();
    }
}

function attachAddNewCardListener() {
    const addNewCard = document.getElementById('add-new-card');
    const modal = document.getElementById('add-person-modal');
    const imageInput = document.getElementById('person-image');
    const nameInput = document.getElementById('person-name');
    const imagePreview = document.getElementById('image-preview');
    if (addNewCard) {
        addNewCard.onclick = function() {
            modal.style.display = 'flex';
            imageInput.value = '';
            nameInput.value = '';
            imagePreview.innerHTML = '';
        };
    }
}

document.addEventListener('DOMContentLoaded', function() {
    // Attach modal event listeners ONCE
    const modal = document.getElementById('add-person-modal');
    const form = document.getElementById('add-person-form');
    const imageInput = document.getElementById('person-image');
    const nameInput = document.getElementById('person-name');
    const relationshipInput = document.getElementById('person-relationship');
    const imagePreview = document.getElementById('image-preview');
    const cancelBtn = document.getElementById('cancel-add-person');

    if (cancelBtn) {
        cancelBtn.onclick = function() {
            modal.style.display = 'none';
        };
    }
    if (imageInput) {
        imageInput.onchange = function() {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                    imagePreview.innerHTML = `<img src='${e.target.result}' alt='Preview' style='width:80px;height:80px;border-radius:8px;object-fit:cover;'>`;
            };
            reader.readAsDataURL(file);
        } else {
                imagePreview.innerHTML = '';
            }
        };
    }
    if (form) {
        form.onsubmit = function(e) {
        e.preventDefault();
            const name = nameInput.value.trim();
            const relationship = relationshipInput.value;
            let imgSrc = 'images/my my.jpg';
            if (imageInput.files[0] && imagePreview.querySelector('img')) {
                imgSrc = imagePreview.querySelector('img').src;
            }
            if (name && relationship) {
                peopleData.push({ 
                    name: name, 
                    profilePicUrl: imgSrc, 
                    relationship: relationship 
                });
                savePeopleData(); // Save to localStorage
                modal.style.display = 'none';
                renderPeopleCards();
                // Reset form
                nameInput.value = '';
                relationshipInput.value = '';
                imageInput.value = '';
                imagePreview.innerHTML = '';
            }
        };
    }
    
    // Load saved data and render cards
    loadPeopleData();
    renderPeopleCards();
});

// Dark Mode Toggle Functionality
document.addEventListener('DOMContentLoaded', function() {
    const darkModeToggle = document.getElementById('dark-mode-toggle-btn');
    const body = document.body;
    
    // Check for saved theme preference or default to light mode
    const currentTheme = localStorage.getItem('theme') || 'light';
    body.setAttribute('data-theme', currentTheme);
    
    // Update toggle button icon based on current theme
    function updateToggleIcon() {
        const icon = darkModeToggle.querySelector('i');
        
        if (body.getAttribute('data-theme') === 'dark') {
            icon.className = 'fas fa-sun';
        } else {
            icon.className = 'fas fa-moon';
        }
    }
    
    // Initialize toggle button
    updateToggleIcon();
    
    // Toggle dark mode
    darkModeToggle.addEventListener('click', function() {
        const currentTheme = body.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateToggleIcon();
        
        // Add smooth transition effect
        body.style.transition = 'background-color 0.3s ease, color 0.3s ease';
    });
});
</script>
</body>
</html>